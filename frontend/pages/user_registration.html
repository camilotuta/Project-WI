<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro - üåø Greenhouse Fitness</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- <script type="module" async src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Fgreenhouse5266back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.9"></script>
  <script type="module" defer src="https://static.rocket.new/rocket-shot.js?v=0.0.1"></script> -->
  </head>
  <body class="bg-background font-body">
    <!-- Navigation Header -->
    <nav class="bg-white shadow-soft sticky top-0 z-50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-16">
          <!-- Logo -->
          <div class="flex items-center">
            <a href="homepage.html" class="flex items-center space-x-2">
              <div
                class="w-10 h-10 bg-primary rounded-lg flex items-center justify-center"
              >
                <span class="text-white text-xl">üåø</span>
              </div>
              <span class="text-xl font-heading font-bold text-primary"
                >Greenhouse Fitness</span
              >
            </a>
          </div>

          <!-- Desktop Navigation -->
          <div class="hidden md:flex items-center space-x-8">
            <a
              href="homepage.html"
              class="text-text-secondary hover:text-primary transition-micro"
              >Inicio</a
            >
            <a
              href="product_catalog.html"
              class="text-text-secondary hover:text-primary transition-micro"
              >Productos</a
            >
            <div class="relative group">
              <button
                class="text-text-secondary hover:text-primary transition-micro flex items-center"
              >
                Categor√≠as
                <svg
                  class="w-4 h-4 ml-1"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M19 9l-7 7-7-7"
                  ></path>
                </svg>
              </button>
              <div
                class="absolute top-full left-0 mt-2 w-48 bg-white rounded-lg shadow-medium opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-state"
              >
                <div class="py-2">
                  <a
                    href="product_catalog.html?category=gym"
                    class="block px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 hover:text-primary"
                    >üèãÔ∏è Gimnasio</a
                  >
                  <a
                    href="product_catalog.html?category=pilates"
                    class="block px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 hover:text-primary"
                    >üßò Pilates</a
                  >
                  <a
                    href="product_catalog.html?category=cardio"
                    class="block px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 hover:text-primary"
                    >üèÉ Cardio</a
                  >
                  <a
                    href="product_catalog.html?category=supplements"
                    class="block px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 hover:text-primary"
                    >üíä Suplementos</a
                  >
                  <a
                    href="product_catalog.html?category=accessories"
                    class="block px-4 py-2 text-sm text-text-secondary hover:bg-surface-100 hover:text-primary"
                    >üéØ Accesorios</a
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- User Actions -->
          <div class="flex items-center space-x-4">
            <button
              class="p-2 text-text-secondary hover:text-primary transition-micro"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                ></path>
              </svg>
            </button>
            <a
              href="favoritos.html"
              class="relative p-2 text-text-secondary hover:text-primary transition-micro"
              title="Favoritos"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                ></path>
              </svg>
              <span
                class="absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
                data-favoritos-count
                style="display: none"
                >0</span
              >
            </a>
            <a
              href="shopping_cart.html"
              class="relative p-2 text-text-secondary hover:text-primary transition-micro"
            >
              <svg
                class="w-5 h-5"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-2.5 5M7 13l2.5 5m6-5v6a2 2 0 11-4 0v-6m4 0V9a2 2 0 10-4 0v4.01"
                ></path>
              </svg>
              <span
                class="absolute -top-1 -right-1 bg-accent text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"
                >3</span
              >
            </a>
            <a href="user_login.html" class="btn-primary">Iniciar Sesi√≥n</a>

            <!-- Mobile Menu Button -->
            <button
              class="md:hidden p-2 text-text-secondary hover:text-primary transition-micro"
              id="mobile-menu-button"
            >
              <svg
                class="w-6 h-6"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16"
                ></path>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div class="md:hidden hidden" id="mobile-menu">
        <div class="px-2 pt-2 pb-3 space-y-1 bg-white border-t border-border">
          <a
            href="homepage.html"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >Inicio</a
          >
          <a
            href="product_catalog.html"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >Productos</a
          >
          <a
            href="product_catalog.html?category=gym"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >üèãÔ∏è Gimnasio</a
          >
          <a
            href="product_catalog.html?category=pilates"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >üßò Pilates</a
          >
          <a
            href="product_catalog.html?category=cardio"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >üèÉ Cardio</a
          >
          <a
            href="product_catalog.html?category=supplements"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >üíä Suplementos</a
          >
          <a
            href="product_catalog.html?category=accessories"
            class="block px-3 py-2 text-text-secondary hover:text-primary"
            >üéØ Accesorios</a
          >
        </div>
      </div>
    </nav>

    <!-- Registration Section -->
    <section
      class="min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 py-12"
    >
      <div class="max-w-md mx-auto px-4 sm:px-6 lg:px-8">
        <!-- Registration Card -->
        <div class="card p-8 shadow-organic-hover">
          <!-- Header -->
          <div class="text-center mb-8">
            <div
              class="w-16 h-16 bg-primary rounded-2xl flex items-center justify-center mx-auto mb-4"
            >
              <span class="text-white text-2xl">üåø</span>
            </div>
            <h1 class="text-3xl font-heading font-bold text-primary mb-2">
              Crear Cuenta
            </h1>
            <p class="text-text-secondary">
              √önete a la comunidad Greenhouse Fitness
            </p>
          </div>

          <!-- Registration Form -->
          <form id="registerForm" class="space-y-6">
            <!-- Name Fields -->
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <div>
                <label
                  for="firstName"
                  class="block text-sm font-medium text-text-primary mb-2"
                >
                  Nombre *
                </label>
                <input
                  type="text"
                  id="firstName"
                  name="firstName"
                  class="input-field"
                  placeholder="Tu nombre"
                  required
                />
                <div
                  class="error-message hidden text-error text-sm mt-1"
                  id="firstName-error"
                ></div>
              </div>
              <div>
                <label
                  for="lastName"
                  class="block text-sm font-medium text-text-primary mb-2"
                >
                  Apellidos *
                </label>
                <input
                  type="text"
                  id="lastName"
                  name="lastName"
                  class="input-field"
                  placeholder="Tus apellidos"
                  required
                />
                <div
                  class="error-message hidden text-error text-sm mt-1"
                  id="lastName-error"
                ></div>
              </div>
            </div>

            <!-- Email -->
            <div>
              <label
                for="email"
                class="block text-sm font-medium text-text-primary mb-2"
              >
                Email *
              </label>
              <input
                type="email"
                id="email"
                name="email"
                class="input-field"
                placeholder="tu@email.com"
                required
              />
              <div
                class="error-message hidden text-error text-sm mt-1"
                id="email-error"
              ></div>
              <div
                class="success-message hidden text-success text-sm mt-1"
                id="email-success"
              >
                ‚úì Email v√°lido
              </div>
            </div>

            <!-- Email Verification Section -->
            <div id="verification-section" class="hidden">
              <div
                class="bg-primary-50 border-2 border-primary-200 rounded-lg p-4"
              >
                <div class="flex items-start space-x-3 mb-4">
                  <div class="flex-shrink-0">
                    <svg
                      class="w-6 h-6 text-primary"
                      fill="currentColor"
                      viewBox="0 0 20 20"
                    >
                      <path
                        d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"
                      ></path>
                      <path
                        d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"
                      ></path>
                    </svg>
                  </div>
                  <div class="flex-1">
                    <h4 class="text-sm font-medium text-primary mb-1">
                      Verificaci√≥n de Email Requerida
                    </h4>
                    <p class="text-xs text-text-secondary mb-3">
                      Hemos enviado un c√≥digo de 6 d√≠gitos a tu email. Por favor
                      ingr√©salo para continuar.
                    </p>

                    <!-- Bot√≥n para enviar c√≥digo -->
                    <button
                      type="button"
                      id="send-code-btn"
                      class="btn-primary text-sm py-2 px-4 w-full mb-3"
                    >
                      <span id="send-code-text"
                        >üìß Enviar C√≥digo de Verificaci√≥n</span
                      >
                      <div
                        class="hidden animate-spin inline-block w-4 h-4 border-2 border-white border-t-transparent rounded-full ml-2"
                        id="send-code-spinner"
                      ></div>
                    </button>

                    <!-- Campo de c√≥digo -->
                    <div id="code-input-container" class="hidden">
                      <label
                        for="verification-code"
                        class="block text-sm font-medium text-text-primary mb-2"
                      >
                        C√≥digo de Verificaci√≥n *
                      </label>
                      <div class="flex space-x-2">
                        <input
                          type="text"
                          id="verification-code"
                          name="verification-code"
                          class="input-field flex-1"
                          placeholder="123456"
                          maxlength="6"
                          pattern="[0-9]{6}"
                        />
                        <button
                          type="button"
                          id="verify-code-btn"
                          class="btn-secondary px-4"
                        >
                          Verificar
                        </button>
                      </div>
                      <div
                        class="error-message hidden text-error text-sm mt-1"
                        id="code-error"
                      ></div>
                      <div
                        class="success-message hidden text-success text-sm mt-1"
                        id="code-success"
                      >
                        ‚úì Email verificado correctamente
                      </div>

                      <!-- Timer y reenv√≠o -->
                      <div
                        class="mt-2 flex justify-between items-center text-xs"
                      >
                        <span class="text-text-tertiary">
                          <span id="timer-text"
                            >El c√≥digo expira en
                            <strong id="timer">10:00</strong></span
                          >
                        </span>
                        <button
                          type="button"
                          id="resend-code-btn"
                          class="text-primary hover:text-primary-600 font-medium disabled:opacity-50 disabled:cursor-not-allowed"
                          disabled
                        >
                          Reenviar c√≥digo
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- Hidden input to track verification status -->
            <input type="hidden" id="email-verified" value="false" />

            <!-- Password -->
            <div>
              <label
                for="password"
                class="block text-sm font-medium text-text-primary mb-2"
              >
                Contrase√±a *
              </label>
              <div class="relative">
                <input
                  type="password"
                  id="password"
                  name="password"
                  class="input-field pr-12"
                  placeholder="M√≠nimo 8 caracteres"
                  required
                />
                <button
                  type="button"
                  class="absolute inset-y-0 right-0 pr-3 flex items-center text-text-secondary hover:text-primary transition-micro"
                  id="toggle-password"
                >
                  <svg
                    class="w-5 h-5"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                    id="eye-icon"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                    ></path>
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"
                    ></path>
                  </svg>
                </button>
              </div>
              <!-- Password Strength Indicator -->
              <div class="mt-2">
                <div class="flex space-x-1 mb-2">
                  <div
                    class="h-1 flex-1 bg-gray-200 rounded"
                    id="strength-1"
                  ></div>
                  <div
                    class="h-1 flex-1 bg-gray-200 rounded"
                    id="strength-2"
                  ></div>
                  <div
                    class="h-1 flex-1 bg-gray-200 rounded"
                    id="strength-3"
                  ></div>
                  <div
                    class="h-1 flex-1 bg-gray-200 rounded"
                    id="strength-4"
                  ></div>
                </div>
                <p class="text-xs text-text-tertiary" id="password-strength">
                  Debe contener al menos 8 caracteres, una may√∫scula y un n√∫mero
                </p>
              </div>
              <div
                class="error-message hidden text-error text-sm mt-1"
                id="password-error"
              ></div>
            </div>

            <!-- Confirm Password -->
            <div>
              <label
                for="confirmPassword"
                class="block text-sm font-medium text-text-primary mb-2"
              >
                Confirmar Contrase√±a *
              </label>
              <input
                type="password"
                id="confirmPassword"
                name="confirmPassword"
                class="input-field"
                placeholder="Repite tu contrase√±a"
                required
              />
              <div
                class="error-message hidden text-error text-sm mt-1"
                id="confirmPassword-error"
              ></div>
              <div
                class="success-message hidden text-success text-sm mt-1"
                id="confirmPassword-success"
              >
                ‚úì Las contrase√±as coinciden
              </div>
            </div>

            <!-- Phone Number -->
            <div>
              <label
                for="telefono"
                class="block text-sm font-medium text-text-primary mb-2"
              >
                Tel√©fono
              </label>
              <input
                type="tel"
                id="telefono"
                name="telefono"
                class="input-field"
                placeholder="+34 600 000 000"
              />
            </div>

            <!-- Address Information -->
            <div class="border-t border-border pt-6 mt-6">
              <h3 class="text-lg font-heading font-bold text-text-primary mb-4">
                Informaci√≥n de Env√≠o (Opcional)
              </h3>

              <!-- Address -->
              <div class="mb-4">
                <label
                  for="direccion"
                  class="block text-sm font-medium text-text-primary mb-2"
                >
                  Direcci√≥n
                </label>
                <input
                  type="text"
                  id="direccion"
                  name="direccion"
                  class="input-field"
                  placeholder="Calle, n√∫mero, piso, puerta..."
                />
              </div>

              <!-- City and Postal Code -->
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label
                    for="ciudad"
                    class="block text-sm font-medium text-text-primary mb-2"
                  >
                    Ciudad
                  </label>
                  <input
                    type="text"
                    id="ciudad"
                    name="ciudad"
                    class="input-field"
                    placeholder="Madrid"
                  />
                </div>
                <div>
                  <label
                    for="codigo_postal"
                    class="block text-sm font-medium text-text-primary mb-2"
                  >
                    C√≥digo Postal
                  </label>
                  <input
                    type="text"
                    id="codigo_postal"
                    name="codigo_postal"
                    class="input-field"
                    placeholder="28001"
                    maxlength="5"
                  />
                </div>
              </div>
            </div>

            <!-- Birth Date -->
            <div>
              <label
                for="fecha_nacimiento"
                class="block text-sm font-medium text-text-primary mb-2"
              >
                Fecha de Nacimiento (Opcional)
              </label>
              <input
                type="date"
                id="fecha_nacimiento"
                name="fecha_nacimiento"
                class="input-field"
              />
              <p class="text-xs text-text-tertiary mt-1">
                Nos ayuda a personalizar tu experiencia
              </p>
            </div>

            <!-- Newsletter Subscription -->
            <div class="flex items-start space-x-3">
              <input
                type="checkbox"
                id="newsletter"
                name="newsletter"
                class="mt-1 w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary focus:ring-2"
              />
              <label for="newsletter" class="text-sm text-text-secondary">
                Quiero recibir ofertas especiales, consejos de fitness y
                novedades de productos por email
              </label>
            </div>

            <!-- Terms and Privacy -->
            <div class="flex items-start space-x-3">
              <input
                type="checkbox"
                id="terms"
                name="terms"
                class="mt-1 w-4 h-4 text-primary border-gray-300 rounded focus:ring-primary focus:ring-2"
                required
              />
              <label for="terms" class="text-sm text-text-secondary">
                Acepto los
                <a
                  href="javascript:void(0)"
                  class="text-primary hover:text-primary-600 underline"
                  >T√©rminos de Servicio</a
                >
                y la
                <a
                  href="javascript:void(0)"
                  class="text-primary hover:text-primary-600 underline"
                  >Pol√≠tica de Privacidad</a
                >
                *
              </label>
            </div>
            <div
              class="error-message hidden text-error text-sm"
              id="terms-error"
            >
              Debes aceptar los t√©rminos y condiciones para continuar
            </div>

            <!-- Security Assurance -->
            <div class="bg-success-50 border border-success-200 rounded-lg p-4">
              <div class="flex items-center space-x-2">
                <svg
                  class="w-5 h-5 text-success"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
                <div>
                  <p class="text-sm font-medium text-success-700">
                    Datos Seguros
                  </p>
                  <p class="text-xs text-success-600">
                    Tu informaci√≥n est√° protegida con encriptaci√≥n SSL
                  </p>
                </div>
              </div>
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              class="w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed"
              id="register-button"
            >
              <span id="button-text">Crear Mi Cuenta</span>
              <div
                class="hidden animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"
                id="loading-spinner"
              ></div>
            </button>

            <!-- Success Message -->
            <div
              class="hidden bg-success-50 border border-success-200 rounded-lg p-4"
              id="success-message"
            >
              <div class="flex items-center space-x-2">
                <svg
                  class="w-5 h-5 text-success"
                  fill="currentColor"
                  viewBox="0 0 20 20"
                >
                  <path
                    fill-rule="evenodd"
                    d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
                    clip-rule="evenodd"
                  ></path>
                </svg>
                <div>
                  <p class="text-sm font-medium text-success-700">
                    ¬°Cuenta creada exitosamente!
                  </p>
                  <p class="text-xs text-success-600">
                    Redirigiendo a tu perfil...
                  </p>
                </div>
              </div>
            </div>
          </form>

          <!-- Login Link -->
          <div class="mt-8 text-center">
            <p class="text-text-secondary">
              ¬øYa tienes una cuenta?
              <a
                href="user_login.html"
                class="text-primary hover:text-primary-600 font-medium transition-micro"
              >
                Iniciar Sesi√≥n
              </a>
            </p>
          </div>

          <!-- Trust Signals -->
          <div class="mt-8 pt-6 border-t border-border">
            <div
              class="flex justify-center space-x-6 text-xs text-text-tertiary"
            >
              <div class="flex items-center space-x-1">
                <span>üîí</span>
                <span>Seguro</span>
              </div>
              <div class="flex items-center space-x-1">
                <span>üåø</span>
                <span>100% Natural</span>
              </div>
              <div class="flex items-center space-x-1">
                <span>‚úÖ</span>
                <span>Certificado</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-primary-800 text-white">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
          <!-- Company Info -->
          <div>
            <div class="flex items-center space-x-2 mb-4">
              <div
                class="w-8 h-8 bg-accent rounded-lg flex items-center justify-center"
              >
                <span class="text-white text-lg">üåø</span>
              </div>
              <span class="text-lg font-heading font-bold"
                >Greenhouse Fitness</span
              >
            </div>
            <p class="text-primary-200 mb-4">
              Tu tienda de confianza para suplementos naturales y equipos de
              fitness de calidad premium.
            </p>
            <div class="flex space-x-4">
              <a
                href="javascript:void(0)"
                class="text-primary-200 hover:text-white transition-micro"
                >üìò</a
              >
              <a
                href="javascript:void(0)"
                class="text-primary-200 hover:text-white transition-micro"
                >üì∑</a
              >
              <a
                href="javascript:void(0)"
                class="text-primary-200 hover:text-white transition-micro"
                >ü¶Ö</a
              >
              <a
                href="javascript:void(0)"
                class="text-primary-200 hover:text-white transition-micro"
                >üì∫</a
              >
            </div>
          </div>

          <!-- Quick Links -->
          <div>
            <h3 class="font-heading font-semibold mb-4">Enlaces R√°pidos</h3>
            <ul class="space-y-2">
              <li>
                <a
                  href="homepage.html"
                  class="text-primary-200 hover:text-white transition-micro"
                  >Inicio</a
                >
              </li>
              <li>
                <a
                  href="product_catalog.html"
                  class="text-primary-200 hover:text-white transition-micro"
                  >Productos</a
                >
              </li>
              <li>
                <a
                  href="product_catalog.html?category=supplements"
                  class="text-primary-200 hover:text-white transition-micro"
                  >Suplementos</a
                >
              </li>
              <li>
                <a
                  href="shopping_cart.html"
                  class="text-primary-200 hover:text-white transition-micro"
                  >Carrito</a
                >
              </li>
            </ul>
          </div>

          <!-- Categories -->
          <div>
            <h3 class="font-heading font-semibold mb-4">Categor√≠as</h3>
            <ul class="space-y-2">
              <li>
                <a
                  href="product_catalog.html?category=gym"
                  class="text-primary-200 hover:text-white transition-micro"
                  >üèãÔ∏è Gimnasio</a
                >
              </li>
              <li>
                <a
                  href="product_catalog.html?category=pilates"
                  class="text-primary-200 hover:text-white transition-micro"
                  >üßò Pilates</a
                >
              </li>
              <li>
                <a
                  href="product_catalog.html?category=cardio"
                  class="text-primary-200 hover:text-white transition-micro"
                  >üèÉ Cardio</a
                >
              </li>
              <li>
                <a
                  href="product_catalog.html?category=accessories"
                  class="text-primary-200 hover:text-white transition-micro"
                  >üéØ Accesorios</a
                >
              </li>
            </ul>
          </div>

          <!-- Contact -->
          <div>
            <h3 class="font-heading font-semibold mb-4">Contacto</h3>
            <ul class="space-y-2 text-primary-200">
              <li class="flex items-center space-x-2">
                <span>üìß</span>
                <span>greenhousefitnesss@gmail.com</span>
              </li>
              <li class="flex items-center space-x-2">
                <span>üìû</span>
                <span>+57 312 853 5465</span>
              </li>
              <li class="flex items-center space-x-2">
                <span>üìç</span>
                <span>Sop√≥, Cundinamarca, Colombia</span>
              </li>
              <li class="flex items-center space-x-2">
                <span>üïê</span>
                <span>Lun-Vie: 9:00-18:00</span>
              </li>
            </ul>
          </div>
        </div>

        <div class="border-t border-primary-700 mt-8 pt-8 text-center">
          <p class="text-primary-200">
            ¬© 2025 Greenhouse Fitness. Todos los derechos reservados.
          </p>
        </div>
      </div>
    </footer>

    <!-- Success Notification -->
    <div
      id="success-notification"
      class="fixed top-4 right-4 bg-success text-white px-6 py-3 rounded-lg shadow-lg transform translate-x-full transition-transform duration-300 z-50"
    >
      <div class="flex items-center space-x-2">
        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
          <path
            fill-rule="evenodd"
            d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z"
            clip-rule="evenodd"
          ></path>
        </svg>
        <span id="notification-text">Notificaci√≥n</span>
      </div>
    </div>

    <!-- JavaScript -->
    <script src="../js/api.js"></script>
    <script>
      // Mobile Menu Toggle
      document
        .getElementById("mobile-menu-button")
        .addEventListener("click", function () {
          const mobileMenu = document.getElementById("mobile-menu");
          mobileMenu.classList.toggle("hidden");
        });

      // Password Toggle
      document
        .getElementById("toggle-password")
        .addEventListener("click", function () {
          const passwordInput = document.getElementById("password");
          const eyeIcon = document.getElementById("eye-icon");

          if (passwordInput.type === "password") {
            passwordInput.type = "text";
            eyeIcon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"></path>
                `;
          } else {
            passwordInput.type = "password";
            eyeIcon.innerHTML = `
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                `;
          }
        });

      // Password Strength Checker
      document
        .getElementById("password")
        .addEventListener("input", function () {
          const password = this.value;
          const strengthBars = [
            document.getElementById("strength-1"),
            document.getElementById("strength-2"),
            document.getElementById("strength-3"),
            document.getElementById("strength-4"),
          ];
          const strengthText = document.getElementById("password-strength");

          let strength = 0;
          let feedback = [];

          // Length check
          if (password.length >= 8) strength++;
          else feedback.push("al menos 8 caracteres");

          // Uppercase check
          if (/[A-Z]/.test(password)) strength++;
          else feedback.push("una may√∫scula");

          // Number check
          if (/[0-9]/.test(password)) strength++;
          else feedback.push("un n√∫mero");

          // Special character check
          if (/[^A-Za-z0-9]/.test(password)) strength++;
          else feedback.push("un car√°cter especial");

          // Update strength bars
          strengthBars.forEach((bar, index) => {
            if (index < strength) {
              if (strength <= 1) bar.className = "h-1 flex-1 bg-error rounded";
              else if (strength <= 2)
                bar.className = "h-1 flex-1 bg-warning rounded";
              else if (strength <= 3)
                bar.className = "h-1 flex-1 bg-accent rounded";
              else bar.className = "h-1 flex-1 bg-success rounded";
            } else {
              bar.className = "h-1 flex-1 bg-gray-200 rounded";
            }
          });

          // Update feedback text
          if (password.length === 0) {
            strengthText.textContent =
              "Debe contener al menos 8 caracteres, una may√∫scula y un n√∫mero";
            strengthText.className = "text-xs text-text-tertiary";
          } else if (strength === 4) {
            strengthText.textContent = "¬°Contrase√±a muy segura!";
            strengthText.className = "text-xs text-success";
          } else if (feedback.length > 0) {
            strengthText.textContent = `Falta: ${feedback.join(", ")}`;
            strengthText.className = "text-xs text-warning-600";
          }
        });

      // Email Validation
      document.getElementById("email").addEventListener("blur", function () {
        const email = this.value;
        const emailError = document.getElementById("email-error");
        const emailSuccess = document.getElementById("email-success");
        const verificationSection = document.getElementById(
          "verification-section"
        );
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

        if (email && !emailRegex.test(email)) {
          emailError.textContent = "Por favor, introduce un email v√°lido";
          emailError.classList.remove("hidden");
          emailSuccess.classList.add("hidden");
          verificationSection.classList.add("hidden");
          this.classList.add("border-error");
        } else if (email) {
          emailError.classList.add("hidden");
          emailSuccess.classList.remove("hidden");
          verificationSection.classList.remove("hidden");
          this.classList.remove("border-error");
          this.classList.add("border-success");
        } else {
          emailError.classList.add("hidden");
          emailSuccess.classList.add("hidden");
          verificationSection.classList.add("hidden");
          this.classList.remove("border-error", "border-success");
        }
      });

      // ==============================================
      // EMAIL VERIFICATION LOGIC
      // ==============================================
      let timerInterval;
      let timeLeft = 600; // 10 minutos en segundos

      // Enviar c√≥digo de verificaci√≥n
      document
        .getElementById("send-code-btn")
        .addEventListener("click", async function () {
          const email = document.getElementById("email").value;
          const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

          if (!email || !emailRegex.test(email)) {
            window.API.Carrito.showNotification(
              "Por favor, introduce un email v√°lido primero",
              "warning"
            );
            document.getElementById("email").focus();
            return;
          }

          const sendCodeBtn = this;
          const sendCodeText = document.getElementById("send-code-text");
          const sendCodeSpinner = document.getElementById("send-code-spinner");
          const codeInputContainer = document.getElementById(
            "code-input-container"
          );

          // Deshabilitar bot√≥n y mostrar loading
          sendCodeBtn.disabled = true;
          sendCodeText.textContent = "Enviando c√≥digo...";
          sendCodeSpinner.classList.remove("hidden");

          try {
            const API_URL =
              window.location.hostname === "localhost" ||
              window.location.hostname === "127.0.0.1"
                ? "http://localhost:3000"
                : "https://tu-api.com";

            const response = await fetch(
              `${API_URL}/api/email/send-verification`,
              {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                },
                body: JSON.stringify({ email }),
              }
            );

            const data = await response.json();

            if (response.ok && data.success) {
              // Mostrar campo de c√≥digo
              codeInputContainer.classList.remove("hidden");
              sendCodeBtn.classList.add("hidden");

              // Iniciar timer
              startTimer();

              // Mostrar mensaje de √©xito
              window.API.Carrito.showNotification(
                "‚úÖ C√≥digo enviado correctamente a tu email",
                "success"
              );

              // En desarrollo, mostrar el c√≥digo en consola
              if (data.code) {
                console.log("üîë C√≥digo de verificaci√≥n (DEV):", data.code);
              }
            } else {
              throw new Error(data.message || "Error al enviar el c√≥digo");
            }
          } catch (error) {
            console.error("Error:", error);
            window.API.Carrito.showNotification(
              "‚ùå Error al enviar el c√≥digo: " + error.message,
              "error"
            );

            // Rehabilitar bot√≥n
            sendCodeBtn.disabled = false;
            sendCodeText.textContent = "üìß Enviar C√≥digo de Verificaci√≥n";
            sendCodeSpinner.classList.add("hidden");
          }
        });

      // Verificar c√≥digo
      document
        .getElementById("verify-code-btn")
        .addEventListener("click", async function () {
          const email = document.getElementById("email").value;
          const code = document.getElementById("verification-code").value;
          const codeError = document.getElementById("code-error");
          const codeSuccess = document.getElementById("code-success");
          const emailVerified = document.getElementById("email-verified");

          if (!code || code.length !== 6) {
            codeError.textContent =
              "Por favor, introduce un c√≥digo de 6 d√≠gitos";
            codeError.classList.remove("hidden");
            codeSuccess.classList.add("hidden");
            return;
          }

          const verifyBtn = this;
          const originalText = verifyBtn.textContent;
          verifyBtn.disabled = true;
          verifyBtn.textContent = "Verificando...";

          try {
            const API_URL =
              window.location.hostname === "localhost" ||
              window.location.hostname === "127.0.0.1"
                ? "http://localhost:3000"
                : "https://tu-api.com";

            const response = await fetch(`${API_URL}/api/email/verify-code`, {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ email, code }),
            });

            const data = await response.json();

            if (response.ok && data.success) {
              // C√≥digo verificado correctamente
              codeError.classList.add("hidden");
              codeSuccess.classList.remove("hidden");
              emailVerified.value = "true";

              // Deshabilitar campo de c√≥digo
              document.getElementById("verification-code").disabled = true;
              verifyBtn.disabled = true;
              verifyBtn.textContent = "‚úì Verificado";
              verifyBtn.classList.add("bg-success");

              // Detener timer
              if (timerInterval) {
                clearInterval(timerInterval);
              }

              window.API.Carrito.showNotification(
                "‚úÖ Email verificado correctamente. Ahora puedes continuar con el registro.",
                "success"
              );
            } else {
              throw new Error(data.message || "C√≥digo incorrecto");
            }
          } catch (error) {
            console.error("Error:", error);
            codeError.textContent = error.message;
            codeError.classList.remove("hidden");
            codeSuccess.classList.add("hidden");

            verifyBtn.disabled = false;
            verifyBtn.textContent = originalText;
          }
        });

      // Reenviar c√≥digo
      document
        .getElementById("resend-code-btn")
        .addEventListener("click", function () {
          document.getElementById("send-code-btn").click();

          // Resetear timer
          timeLeft = 600;
          document.getElementById("resend-code-btn").disabled = true;
        });

      // Timer para expiraci√≥n del c√≥digo
      function startTimer() {
        timeLeft = 600; // 10 minutos
        const timerElement = document.getElementById("timer");
        const resendBtn = document.getElementById("resend-code-btn");

        resendBtn.disabled = true;

        timerInterval = setInterval(() => {
          timeLeft--;

          const minutes = Math.floor(timeLeft / 60);
          const seconds = timeLeft % 60;
          timerElement.textContent = `${minutes}:${seconds
            .toString()
            .padStart(2, "0")}`;

          if (timeLeft <= 0) {
            clearInterval(timerInterval);
            timerElement.textContent = "0:00";
            resendBtn.disabled = false;
            window.API.Carrito.showNotification(
              "‚è∞ El c√≥digo ha expirado. Por favor solicita uno nuevo.",
              "warning"
            );
          } else if (timeLeft <= 60) {
            // Habilitar reenv√≠o cuando quede 1 minuto
            resendBtn.disabled = false;
          }
        }, 1000);
      }

      // ==============================================
      // END EMAIL VERIFICATION LOGIC
      // ==============================================

      // Confirm Password Validation
      document
        .getElementById("confirmPassword")
        .addEventListener("input", function () {
          const password = document.getElementById("password").value;
          const confirmPassword = this.value;
          const confirmError = document.getElementById("confirmPassword-error");
          const confirmSuccess = document.getElementById(
            "confirmPassword-success"
          );

          if (confirmPassword && password !== confirmPassword) {
            confirmError.textContent = "Las contrase√±as no coinciden";
            confirmError.classList.remove("hidden");
            confirmSuccess.classList.add("hidden");
            this.classList.add("border-error");
          } else if (confirmPassword && password === confirmPassword) {
            confirmError.classList.add("hidden");
            confirmSuccess.classList.remove("hidden");
            this.classList.remove("border-error");
            this.classList.add("border-success");
          } else {
            confirmError.classList.add("hidden");
            confirmSuccess.classList.add("hidden");
            this.classList.remove("border-error", "border-success");
          }
        });

      // Form Submission
      document
        .getElementById("registerForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const registerButton = document.getElementById("register-button");
          const buttonText = document.getElementById("button-text");
          const loadingSpinner = document.getElementById("loading-spinner");
          const successMessage = document.getElementById("success-message");
          const termsCheckbox = document.getElementById("terms");
          const termsError = document.getElementById("terms-error");
          const emailVerified = document.getElementById("email-verified");

          // Validate email verification
          if (emailVerified.value !== "true") {
            window.API.Carrito.showNotification(
              "‚ùå Debes verificar tu email antes de continuar con el registro.",
              "error"
            );
            document.getElementById("verification-code").focus();
            return;
          }

          // Validate terms acceptance
          if (!termsCheckbox.checked) {
            termsError.classList.remove("hidden");
            termsCheckbox.focus();
            return;
          } else {
            termsError.classList.add("hidden");
          }

          // Show loading state
          registerButton.disabled = true;
          buttonText.textContent = "Creando cuenta...";
          loadingSpinner.classList.remove("hidden");

          try {
            // Call API register function
            if (window.handleRegister) {
              await window.handleRegister(e);
            } else {
              // Fallback: direct form data
              const formData = new FormData(this);
              const registerData = {
                nombre: formData.get("firstName"),
                email: formData.get("email"),
                password: formData.get("password"),
                telefono: "",
              };

              // Simulate success
              successMessage.classList.remove("hidden");
              setTimeout(() => {
                window.location.href = "user_login.html";
              }, 2000);
            }
          } catch (error) {
            console.error("Registration error:", error);
            registerButton.disabled = false;
            buttonText.textContent = "Crear Mi Cuenta";
            loadingSpinner.classList.add("hidden");
          }
        });

      // Real-time field validation
      const requiredFields = [
        "firstName",
        "lastName",
        "email",
        "password",
        "confirmPassword",
      ];

      requiredFields.forEach((fieldId) => {
        const field = document.getElementById(fieldId);
        const errorElement = document.getElementById(fieldId + "-error");

        field.addEventListener("blur", function () {
          if (!this.value.trim()) {
            errorElement.textContent = "Este campo es obligatorio";
            errorElement.classList.remove("hidden");
            this.classList.add("border-error");
          } else {
            errorElement.classList.add("hidden");
            this.classList.remove("border-error");
          }
        });
      });

      // Form animation on load
      window.addEventListener("load", function () {
        const card = document.querySelector(".card");
        card.style.opacity = "0";
        card.style.transform = "translateY(20px)";
        card.style.transition =
          "opacity 0.6s ease-out, transform 0.6s ease-out";

        setTimeout(() => {
          card.style.opacity = "1";
          card.style.transform = "translateY(0)";
        }, 100);
      });
    </script>
    <script
      id="dhws-dataInjector"
      src="../public/dhws-data-injector.js"
    ></script>
    <script src="../js/api.js"></script>
    <script src="../js/auth.js"></script>
  </body>
</html>
